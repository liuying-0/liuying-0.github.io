<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>NVBoard使用方法 | 卡比之星'blog</title><meta name="author" content="卡比之星"><meta name="copyright" content="卡比之星"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="NVBoard 介绍NVBoard(NJU Virtual Board)是基于SDL开发的虚拟FPGA开发板，可以在Verilator仿真环境中模拟FPGA，支持LED，七段数码管，拨码开关，UART，键盘和VGA。 项目文件说明123456789101112131415161718192021222324252627282930313233343536373839404142434445.├──">
<meta property="og:type" content="article">
<meta property="og:title" content="NVBoard使用方法">
<meta property="og:url" content="https://liuying-0.github.io/2025/08/01/NVBoard%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/index.html">
<meta property="og:site_name" content="卡比之星&#39;blog">
<meta property="og:description" content="NVBoard 介绍NVBoard(NJU Virtual Board)是基于SDL开发的虚拟FPGA开发板，可以在Verilator仿真环境中模拟FPGA，支持LED，七段数码管，拨码开关，UART，键盘和VGA。 项目文件说明123456789101112131415161718192021222324252627282930313233343536373839404142434445.├──">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://q.qlogo.cn/headimg_dl?dst_uin=2577539290&spec=640&img_type=jpg">
<meta property="article:published_time" content="2025-08-01T03:28:46.000Z">
<meta property="article:modified_time" content="2025-08-31T06:11:58.325Z">
<meta property="article:author" content="卡比之星">
<meta property="article:tag" content="Verilator">
<meta property="article:tag" content="NVBoard">
<meta property="article:tag" content="ysyx">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://q.qlogo.cn/headimg_dl?dst_uin=2577539290&spec=640&img_type=jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "NVBoard使用方法",
  "url": "https://liuying-0.github.io/2025/08/01/NVBoard%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/",
  "image": "http://q.qlogo.cn/headimg_dl?dst_uin=2577539290&spec=640&img_type=jpg",
  "datePublished": "2025-08-01T03:28:46.000Z",
  "dateModified": "2025-08-31T06:11:58.325Z",
  "author": [
    {
      "@type": "Person",
      "name": "卡比之星",
      "url": "https://liuying-0.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="http://q.qlogo.cn/headimg_dl?dst_uin=2577539290&spec=640&img_type=jpg"><link rel="canonical" href="https://liuying-0.github.io/2025/08/01/NVBoard%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'NVBoard使用方法',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/modify.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(https://ibing.study.st/rand);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="http://q.qlogo.cn/headimg_dl?dst_uin=2577539290&amp;spec=640&amp;img_type=jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类页</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://ibing.study.st/rand);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">卡比之星'blog</span></a><a class="nav-page-title" href="/"><span class="site-name">NVBoard使用方法</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类页</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">NVBoard使用方法</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-01T03:28:46.000Z" title="发表于 2025-08-01 11:28:46">2025-08-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-31T06:11:58.325Z" title="更新于 2025-08-31 14:11:58">2025-08-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/ysyx/">ysyx</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/ysyx/%E9%A2%84%E5%AD%A6%E4%B9%A0/">预学习</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="NVBoard"><a href="#NVBoard" class="headerlink" title="NVBoard"></a>NVBoard</h1><p><img src="/images/NVBoard.jpg" alt="image"></p>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>NVBoard(NJU Virtual Board)是基于SDL开发的虚拟FPGA开发板，可以在Verilator仿真环境中模拟FPGA，支持LED，七段数码管，拨码开关，UART，键盘和VGA。</p>
<h2 id="项目文件说明"><a href="#项目文件说明" class="headerlink" title="项目文件说明"></a>项目文件说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── board                   # 引脚说明文件</span><br><span class="line">│   └── ...</span><br><span class="line">├── example                 # 示例项目</span><br><span class="line">│   └── ...</span><br><span class="line">├── include                 # 用于NVboard项目内部包含的头文件</span><br><span class="line">│   ├── component.h</span><br><span class="line">│   ├── configs.h</span><br><span class="line">│   ├── font.h</span><br><span class="line">│   ├── keyboard.h</span><br><span class="line">│   ├── macro.h</span><br><span class="line">│   ├── nvboard.h</span><br><span class="line">│   ├── pins.h</span><br><span class="line">│   ├── render.h</span><br><span class="line">│   ├── term.h</span><br><span class="line">│   ├── uart.h</span><br><span class="line">│   └── vga.h</span><br><span class="line">├── resources</span><br><span class="line">│   ├── font                # 字体资源</span><br><span class="line">│   └── pic                 # 图片资源</span><br><span class="line">├── scripts</span><br><span class="line">│   ├── auto_pin_bind.py    # 生成引脚绑定代码的脚本</span><br><span class="line">│   └── nvboard.mk          # NVBoard构建规则</span><br><span class="line">├── src                     # NVBoard源码</span><br><span class="line">│   ├── at_scancode.h</span><br><span class="line">│   ├── button.cpp</span><br><span class="line">│   ├── component.cpp</span><br><span class="line">│   ├── event.cpp</span><br><span class="line">│   ├── font.cpp</span><br><span class="line">│   ├── keyboard.cpp</span><br><span class="line">│   ├── led.cpp</span><br><span class="line">│   ├── nvboard.cpp</span><br><span class="line">│   ├── render.cpp</span><br><span class="line">│   ├── segs7.cpp</span><br><span class="line">│   ├── switch.cpp</span><br><span class="line">│   ├── term.cpp</span><br><span class="line">│   ├── timer.cpp</span><br><span class="line">│   ├── uart.cpp</span><br><span class="line">│   └── vga.cpp</span><br><span class="line">├── usr</span><br><span class="line">│   └── include           # 用于给外部项目包含的头文件</span><br><span class="line">│       ├── nvboard.h</span><br><span class="line">│       └── pins.h</span><br><span class="line">├── LICENSE</span><br><span class="line">└── README.md</span><br></pre></td></tr></table></figure>

<h2 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h2><ol>
<li>将项目拷贝到本地，<code>git clone https://github.com/NJU-ProjectN/nvboard.git</code></li>
<li>通过<code>apt-get install libsdl2-dev libsdl2-image-dev libsdl2-ttf-dev</code> &#x2F; <code>yum install SDL2-devel SDL2_image-devel SDL2_ttf-devel</code>安装SDL2，SDL2-image和SDL2-ttf；对于<code>macOS</code>，可以通过<code>brew install sdl2 sdl2_image sdl2_ttf</code>安装</li>
<li>把本项目的目录设置成环境变量<code>NVBOARD_HOME</code></li>
</ol>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p><code>example</code>目录下包含一个示例项目，在该目录下通过 <code>make run</code> 命令可运行该项目。</p>
<h1 id="接入Verilator步骤"><a href="#接入Verilator步骤" class="headerlink" title="接入Verilator步骤"></a>接入Verilator步骤</h1><h2 id="API说明"><a href="#API说明" class="headerlink" title="API说明"></a>API说明</h2><p>NVBoard提供了以下几组API</p>
<ul>
<li><code>void nvboard_init()</code>: 初始化NVBoard</li>
<li><code>void nvboard_quit()</code>: 退出NVBoard</li>
<li><code>void nvboard_bind_pin(void *signal, int len, ...)</code>: 将HDL的信号signal连接到NVBoard里的引脚上，具体地<ul>
<li><code>len</code>为信号的长度，大于1时为向量信号</li>
<li>可变参数列表<code>...</code>为引脚编号列表，编号为整数；绑定向量信号时，引脚编号列表从MSB到LSB排列</li>
</ul>
</li>
<li><code>void nvboard_update()</code>: 更新NVBoard中各组件的状态，每当电路状态发生改变时都需要调用该函数</li>
</ul>
<h2 id="引脚绑定"><a href="#引脚绑定" class="headerlink" title="引脚绑定"></a>引脚绑定</h2><p>手动调用<code>nvboard_bind_pin()</code>来绑定所有引脚较为繁琐。<br>为了方便进行信号的绑定，NVBoard项目提供了一套从自定义约束文件生成绑定代码的流程。具体地</p>
<ol>
<li>编写一个自定义格式的约束文件，其格式为</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">top = top_name</span><br><span class="line"></span><br><span class="line">#nxdc 文件中的行内注释</span><br><span class="line">signal pin</span><br><span class="line">signal (pin1,pin2,...,pink)</span><br></pre></td></tr></table></figure>

<p>在约束文件的第一行，需要指定顶层模块名（上文中为<code>top_name</code>）。<br>约束文件支持两种信号绑定方式，<code>signal pin</code>表示将顶层模块的<code>signal</code>端口信号绑定到引脚<code>pin</code>上，<br><code>signal (pin1, pin2, ..., pink)</code>表示将顶层模块的<code>signal</code>信号的每一位从高到低依次绑定到<code>pin1, pin2, ..., pink</code>上。<br>约束文件支持空行与行注释。</p>
<ol start="2">
<li>通过命令<code>python $(NVBOARD_HOME)/scripts/auto_pin_bind.py nxdc约束文件路径 auto_bind.cpp输出路径</code>来生成C++文件。</li>
</ol>
<p>调用该文件中的<code>nvboard_bind_all_pins(dut)</code>函数即可完成所有信号的绑定。</p>
<p>注意，该脚本的错误处理并不完善，若自定义约束文件中存在错误，则可能无法生成正确的报错信息与C++文件。<br><del>如果发现脚本中的错误也可以尝试修复一下然后丢pr</del></p>
<p>可以在<code>board</code>目录下的引脚说明文件中查看引脚信息。<br>其中<code>output</code>表示该信号方向为输出方向(从RTL代码到NVBoard)，<code>input</code>为输入方向(从NVBoard到RTL代码)。</p>
<p>目前引脚列表中不包含复位引脚<code>RST</code>，因为NVBoard在cpp文件中包含一些内部状态，仅复位RTL设计部分会使其与NVBoard状态不一致。<br>一个实现全系统复位效果的简单方法是退出NVBoard并重新运行。RTL设计的复位工作由verilator的wrapper完成，具体见<code>example/csrc/main.cpp</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;nvboard.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Vtop.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> TOP_NAME dut;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">nvboard_bind_all_pins</span><span class="params">(TOP_NAME* top)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">single_cycle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  dut.clk = <span class="number">0</span>; dut.<span class="built_in">eval</span>();</span><br><span class="line">  dut.clk = <span class="number">1</span>; dut.<span class="built_in">eval</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">reset</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  dut.rst = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (n -- &gt; <span class="number">0</span>) <span class="built_in">single_cycle</span>();</span><br><span class="line">  dut.rst = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">nvboard_bind_all_pins</span>(&amp;dut);</span><br><span class="line">  <span class="built_in">nvboard_init</span>();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">reset</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">nvboard_update</span>();</span><br><span class="line">    <span class="built_in">single_cycle</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="调用API"><a href="#调用API" class="headerlink" title="调用API"></a>调用API</h2><p>在C++仿真代码中调用NVBoard提供的API</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;nvboard.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="built_in">nvboard_bind_all_pins</span>(&amp;dut);</span><br><span class="line"><span class="built_in">nvboard_init</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="built_in">nvboard_update</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">nvboard_quit</span>();</span><br></pre></td></tr></table></figure>

<p>具体地</p>
<ul>
<li>在进入verilator仿真的循环前，先对引脚进行绑定，然后对NVBoard进行初始化</li>
<li>在verilator仿真的循环中更新NVBoard各组件的状态</li>
<li>退出verilator仿真的循环后，销毁NVBoard的相关资源</li>
</ul>
<h2 id="编译链接"><a href="#编译链接" class="headerlink" title="编译链接"></a>编译链接</h2><p>在Makefile中</p>
<ul>
<li>将生成的上述引脚绑定的C++文件加入源文件列表</li>
<li>将NVBoard的构建脚本包含进来</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include $(NVBOARD_HOME)/scripts/nvboard.mk</span><br></pre></td></tr></table></figure>

<ul>
<li>通过<code>make nvboard-archive</code>生成NVBoard的库文件</li>
<li>在生成verilator仿真可执行文件(即<code>$(NVBOARD_ARCHIVE)</code>)将这个库文件加入链接过程，并添加链接选项<code>-lSDL2 -lSDL2_image</code></li>
</ul>
<p>可以参考示例项目中的Makefile文件，即<code>example/Makefile</code></p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Makefile</span></span><br><span class="line">TOPNAME = top</span><br><span class="line">NXDC_FILES = constr/top.nxdc</span><br><span class="line">INC_PATH ?=</span><br><span class="line"></span><br><span class="line">VERILATOR = verilator</span><br><span class="line">VERILATOR_CFLAGS += -MMD --build -cc  \</span><br><span class="line">				-O3 --x-assign fast --x-initial fast --noassert</span><br><span class="line"></span><br><span class="line">BUILD_DIR = ./build</span><br><span class="line">OBJ_DIR = <span class="variable">$(BUILD_DIR)</span>/obj_dir</span><br><span class="line">BIN = <span class="variable">$(BUILD_DIR)</span>/<span class="variable">$(TOPNAME)</span></span><br><span class="line"></span><br><span class="line"><span class="section">default: <span class="variable">$(BIN)</span></span></span><br><span class="line"></span><br><span class="line"><span class="variable">$(<span class="built_in">shell</span> mkdir -p <span class="variable">$(BUILD_DIR)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># constraint file</span></span><br><span class="line">SRC_AUTO_BIND = <span class="variable">$(<span class="built_in">abspath</span> <span class="variable">$(BUILD_DIR)</span>/auto_bind.cpp)</span></span><br><span class="line"><span class="variable">$(SRC_AUTO_BIND)</span>: <span class="variable">$(NXDC_FILES)</span></span><br><span class="line">	python3 <span class="variable">$(NVBOARD_HOME)</span>/scripts/auto_pin_bind.py <span class="variable">$^</span> <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># project source</span></span><br><span class="line">VSRCS = <span class="variable">$(<span class="built_in">shell</span> find $(<span class="built_in">abspath</span> ./vsrc)</span> -name <span class="string">&quot;*.v&quot;</span>)</span><br><span class="line">CSRCS = <span class="variable">$(<span class="built_in">shell</span> find $(<span class="built_in">abspath</span> ./csrc)</span> -name <span class="string">&quot;*.c&quot;</span> -or -name <span class="string">&quot;*.cc&quot;</span> -or -name <span class="string">&quot;*.cpp&quot;</span>)</span><br><span class="line">CSRCS += <span class="variable">$(SRC_AUTO_BIND)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># rules for NVBoard</span></span><br><span class="line"><span class="keyword">include</span> <span class="variable">$(NVBOARD_HOME)</span>/scripts/nvboard.mk</span><br><span class="line"></span><br><span class="line"><span class="comment"># rules for verilator</span></span><br><span class="line">INCFLAGS = <span class="variable">$(<span class="built_in">addprefix</span> -I, <span class="variable">$(INC_PATH)</span>)</span></span><br><span class="line">CXXFLAGS += <span class="variable">$(INCFLAGS)</span> -DTOP_NAME=<span class="string">&quot;\&quot;V<span class="variable">$(TOPNAME)\&quot;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$(BIN)</span>: <span class="variable">$(VSRCS)</span> <span class="variable">$(CSRCS)</span> <span class="variable">$(NVBOARD_ARCHIVE)</span></span><br><span class="line">	@rm -rf <span class="variable">$(OBJ_DIR)</span></span><br><span class="line">	<span class="variable">$(VERILATOR)</span> <span class="variable">$(VERILATOR_CFLAGS)</span> \</span><br><span class="line">		--top-module <span class="variable">$(TOPNAME)</span> <span class="variable">$^</span> \</span><br><span class="line">		<span class="variable">$(<span class="built_in">addprefix</span> -CFLAGS , <span class="variable">$(CXXFLAGS)</span>)</span> <span class="variable">$(<span class="built_in">addprefix</span> -LDFLAGS , <span class="variable">$(LDFLAGS)</span>)</span> \</span><br><span class="line">		--Mdir <span class="variable">$(OBJ_DIR)</span> --exe -o <span class="variable">$(<span class="built_in">abspath</span> <span class="variable">$(BIN)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="section">all: default</span></span><br><span class="line"></span><br><span class="line"><span class="section">run: <span class="variable">$(BIN)</span></span></span><br><span class="line">	@<span class="variable">$^</span></span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -rf <span class="variable">$(BUILD_DIR)</span></span><br><span class="line"></span><br><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: default all clean run</span></span><br></pre></td></tr></table></figure>

<h1 id="Makefile-文件的解析"><a href="#Makefile-文件的解析" class="headerlink" title="Makefile 文件的解析"></a>Makefile 文件的解析</h1><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置顶层模块名称（对应 Verilog 顶层模块名 top.v -&gt; Vtop）</span></span><br><span class="line">TOPNAME = top</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置约束文件路径（.nxdc 文件，供NVBoard使用）</span></span><br><span class="line">NXDC_FILES = constr/top.nxdc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可选的头文件搜索路径（可通过命令行 INC_PATH=... 指定</span></span><br><span class="line">INC_PATH ?= </span><br><span class="line"></span><br><span class="line"><span class="comment"># Verilator 编译器命令</span></span><br><span class="line">VERILATOR = verilator</span><br><span class="line"></span><br><span class="line"><span class="comment"># Verilator 编译参数：</span></span><br><span class="line"><span class="comment"># -MMD：生成依赖文件（用于make增量编译）</span></span><br><span class="line"><span class="comment"># --build：启用编译阶段</span></span><br><span class="line"><span class="comment"># -cc：使用C++编译方式</span></span><br><span class="line"><span class="comment"># -O3：开启最高级别优化</span></span><br><span class="line"><span class="comment"># --x-assign fast / --x-initial fast：优化x值处理（对仿真器更友好）</span></span><br><span class="line"><span class="comment"># --nassert：禁用Verilator内建断言，加快仿真速度</span></span><br><span class="line">VERILATOR_CFLAGS += -MMD --build --cc -O3 --x-assign fast --x-initial fast --noassert</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置构建目录、对象文件目录、最终生成可执行文件路径</span></span><br><span class="line">BUILD_DIR = ./build</span><br><span class="line">OBJ_DIR = <span class="variable">$(BUILD_DIR)</span>/obj_dir</span><br><span class="line">BIN = <span class="variable">$(BUILD_DIR)</span>/<span class="variable">$(TOPNAME)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认构建目标（如果你只敲 make，就会执行这一行）</span></span><br><span class="line"><span class="section">default: <span class="variable">$(BIN)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建构建目录（即 ./build），防止找不到路径</span></span><br><span class="line"><span class="variable">$(<span class="built_in">shell</span> mkdir -p <span class="variable">$(BUILD_DIR)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自动生成的绑定源文件路径（auto_bind.cpp）</span></span><br><span class="line">SRC_AUTO_BIND = <span class="variable">$(<span class="built_in">abspath</span> <span class="variable">$(BUILD_DIR)</span>/auto_bind.cpp)</span></span><br><span class="line"><span class="comment"># 规则：当 .nxdc 文件变动时，重新生成 auto_bind.cpp</span></span><br><span class="line"><span class="comment"># $^ 表示所有依赖（这里是 NXDC_FILES）</span></span><br><span class="line"><span class="comment"># $@ 表示目标（这里是 auto_bind.cpp）</span></span><br><span class="line"><span class="variable">$(SRC_AUTO_BIND)</span>: <span class="variable">$(NXDC_FILES)</span></span><br><span class="line">	python3 <span class="variable">$(NVBOARD_HOME)</span>/scripts/auto_pin_bind.py <span class="variable">$^</span> <span class="variable">$@</span></span><br><span class="line">	</span><br><span class="line"><span class="comment"># 查找所有 vsrc 目录下的 .v Verilog 源文件</span></span><br><span class="line">VSRCS = <span class="variable">$(<span class="built_in">shell</span> find $(<span class="built_in">abspath</span> ./vsrc)</span> -name <span class="string">&quot;*.v&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找所有 csrc 目录下的 .c/.cc/.cpp 源文件</span></span><br><span class="line">CSRCS = <span class="variable">$(<span class="built_in">shell</span> find $(<span class="built_in">abspath</span> ./csrc)</span> -name <span class="string">&quot;*.c&quot;</span> -or -name <span class="string">&quot;*.cc&quot;</span> -or -name <span class="string">&quot;*.cpp&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 auto_bind.cpp 加入 C++ 源文件列表</span></span><br><span class="line">CSRCS += <span class="variable">$(SRC_AUTO_BIND)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 引入 NVBoard 自带的 Makefile，包括：</span></span><br><span class="line"><span class="comment"># - $(NVBOARD_ARCHIVE)</span></span><br><span class="line"><span class="comment"># - 显示初始化/绘图函数</span></span><br><span class="line"><span class="keyword">include</span> <span class="variable">$(NVBOARD_HOME)</span>/scripts/nvboard.mk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 头文件搜索路径展开为 -Ixxx 格式，用于 C++ 编译</span></span><br><span class="line">INCFLAGS = <span class="variable">$(<span class="built_in">addprefix</span> -I, <span class="variable">$(INC_PATH)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将头文件路径和宏定义 `TOP_NAME=&quot;Vtop&quot;` 添加到 C++ 编译器参数中</span></span><br><span class="line">CXXFLAGS += <span class="variable">$(INCFLAGS)</span> -DTOP_NAME=<span class="string">&quot;\&quot;V<span class="variable">$(TOPNAME)\&quot;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成最终可执行仿真器：build/top</span></span><br><span class="line"><span class="variable">$(BIN)</span>: <span class="variable">$(VSRCS)</span> <span class="variable">$(CSRCS)</span> <span class="variable">$(NVBOARD_ARCHIVE)</span></span><br><span class="line">	@rm -rf <span class="variable">$(OBJ_DIR)</span>  <span class="comment"># 清除 Verilator 生成的 obj_dir（避免旧文件残留）</span></span><br><span class="line">	<span class="variable">$(VERILATOR)</span> <span class="variable">$(VERILATOR_CFLAGS)</span> \</span><br><span class="line">		--top-module <span class="variable">$(TOPNAME)</span> <span class="variable">$^</span> \                          <span class="comment"># 指定顶层模块和所有输入文件</span></span><br><span class="line">		<span class="variable">$(<span class="built_in">addprefix</span> -CFLAGS , <span class="variable">$(CXXFLAGS)</span>)</span> \                  <span class="comment"># 添加编译参数</span></span><br><span class="line">		<span class="variable">$(<span class="built_in">addprefix</span> -LDFLAGS , <span class="variable">$(LDFLAGS)</span>)</span> \                  <span class="comment"># 添加链接参数（如有）</span></span><br><span class="line">		--Mdir <span class="variable">$(OBJ_DIR)</span> --exe -o <span class="variable">$(<span class="built_in">abspath</span> <span class="variable">$(BIN)</span>)</span>          <span class="comment"># 指定输出目录和最终可执行文件</span></span><br><span class="line">		</span><br><span class="line"><span class="comment"># all 目标：等价于 default</span></span><br><span class="line"><span class="section">all: default</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># run 目标：执行 build/top 可执行文件（仿真器）</span></span><br><span class="line"><span class="section">run: <span class="variable">$(BIN)</span></span></span><br><span class="line">	@<span class="variable">$^</span>    <span class="comment"># 等价于：./build/top</span></span><br><span class="line">	</span><br><span class="line"><span class="comment"># clean 目标：删除整个构建目录</span></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -rf <span class="variable">$(BUILD_DIR)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 声明伪目标，表示这些目标不是实际的文件名，避免和同名文件冲突。</span></span><br><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: default all clean run</span></span><br></pre></td></tr></table></figure>

<h2 id="执行流程"><a href="#执行流程" class="headerlink" title="执行流程"></a>执行流程</h2><ol>
<li><code>make</code> → 自动生成 auto_bind.cpp → 调用 verilator → 编译生成 <code>build/top</code></li>
<li><code>make run</code> → 运行仿真器 <code>./build/top</code></li>
<li><code>make clean</code> → 清除 <code>./build/</code> 目录</li>
</ol>
<h2 id="NVBoard-Verilator-使用的通用-Makefile-模板"><a href="#NVBoard-Verilator-使用的通用-Makefile-模板" class="headerlink" title="NVBoard + Verilator 使用的通用 Makefile 模板"></a>NVBoard + Verilator 使用的通用 Makefile 模板</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ------------------ 配置部分 ------------------</span></span><br><span class="line"><span class="comment"># 顶层模块名（top.v -&gt; Vtop）</span></span><br><span class="line">TOPNAME = top</span><br><span class="line"></span><br><span class="line"><span class="comment"># NVBoard 的引脚约束文件（使用 auto_pin_bind 生成绑定代码）</span></span><br><span class="line">NXDC_FILES = constr/top.nxdc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可选头文件路径（如有需要可以传入 INC_PATH=...）</span></span><br><span class="line">INC_PATH ?=</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出目录</span></span><br><span class="line">BUILD_DIR = build</span><br><span class="line">OBJ_DIR   = <span class="variable">$(BUILD_DIR)</span>/obj_dir</span><br><span class="line">BIN       = <span class="variable">$(BUILD_DIR)</span>/<span class="variable">$(TOPNAME)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------ 工具设置 ------------------</span></span><br><span class="line">VERILATOR = verilator</span><br><span class="line"></span><br><span class="line"><span class="comment"># Verilator 编译参数（性能+兼容性优化）</span></span><br><span class="line">VERILATOR_CFLAGS += -MMD --build -cc \</span><br><span class="line">                    -O3 --x-assign fast --x-initial fast --noassert</span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------ 默认目标 ------------------</span></span><br><span class="line"><span class="section">default: <span class="variable">$(BIN)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保证构建目录存在</span></span><br><span class="line"><span class="variable">$(<span class="built_in">shell</span> mkdir -p <span class="variable">$(BUILD_DIR)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------ 生成绑定代码 ------------------</span></span><br><span class="line">SRC_AUTO_BIND = <span class="variable">$(<span class="built_in">abspath</span> <span class="variable">$(BUILD_DIR)</span>/auto_bind.cpp)</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$(SRC_AUTO_BIND)</span>: <span class="variable">$(NXDC_FILES)</span></span><br><span class="line">	python3 <span class="variable">$(NVBOARD_HOME)</span>/scripts/auto_pin_bind.py <span class="variable">$^</span> <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------ 查找项目源码 ------------------</span></span><br><span class="line"><span class="comment"># Verilog 源码</span></span><br><span class="line">VSRCS = <span class="variable">$(<span class="built_in">shell</span> find $(<span class="built_in">abspath</span> ./vsrc)</span> -name <span class="string">&quot;*.v&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># C/C++ 源码（+ 自动绑定生成的）</span></span><br><span class="line">CSRCS = <span class="variable">$(<span class="built_in">shell</span> find $(<span class="built_in">abspath</span> ./csrc)</span> -name <span class="string">&quot;*.c&quot;</span> -or -name <span class="string">&quot;*.cc&quot;</span> -or -name <span class="string">&quot;*.cpp&quot;</span>)</span><br><span class="line">CSRCS += <span class="variable">$(SRC_AUTO_BIND)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------ 引入 NVBoard 规则 ------------------</span></span><br><span class="line"><span class="keyword">include</span> <span class="variable">$(NVBOARD_HOME)</span>/scripts/nvboard.mk</span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------ 编译规则 ------------------</span></span><br><span class="line">INCFLAGS  = <span class="variable">$(<span class="built_in">addprefix</span> -I, <span class="variable">$(INC_PATH)</span>)</span></span><br><span class="line">CXXFLAGS += <span class="variable">$(INCFLAGS)</span> -DTOP_NAME=<span class="string">&quot;\&quot;V<span class="variable">$(TOPNAME)\&quot;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最终生成仿真器执行文件</span></span><br><span class="line"><span class="variable">$(BIN)</span>: <span class="variable">$(VSRCS)</span> <span class="variable">$(CSRCS)</span> <span class="variable">$(NVBOARD_ARCHIVE)</span></span><br><span class="line">	@rm -rf <span class="variable">$(OBJ_DIR)</span></span><br><span class="line">	<span class="variable">$(VERILATOR)</span> <span class="variable">$(VERILATOR_CFLAGS)</span> \</span><br><span class="line">		--top-module <span class="variable">$(TOPNAME)</span> <span class="variable">$^</span> \</span><br><span class="line">		<span class="variable">$(<span class="built_in">addprefix</span> -CFLAGS , <span class="variable">$(CXXFLAGS)</span>)</span> <span class="variable">$(<span class="built_in">addprefix</span> -LDFLAGS , <span class="variable">$(LDFLAGS)</span>)</span> \</span><br><span class="line">		--Mdir <span class="variable">$(OBJ_DIR)</span> --exe -o <span class="variable">$(<span class="built_in">abspath</span> <span class="variable">$(BIN)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------ 伪目标 ------------------</span></span><br><span class="line"><span class="section">all: default</span></span><br><span class="line"></span><br><span class="line"><span class="section">run: <span class="variable">$(BIN)</span></span></span><br><span class="line">	@<span class="variable">$^</span></span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -rf <span class="variable">$(BUILD_DIR)</span></span><br><span class="line"></span><br><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: default all run clean</span></span><br></pre></td></tr></table></figure>

<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>make</code></td>
<td align="center">构建绑定代码 + 编译 Verilator 模拟器</td>
</tr>
<tr>
<td align="center"><code>make run</code></td>
<td align="center">运行模拟器（执行 <code>build/top</code>）</td>
</tr>
<tr>
<td align="center"><code>make clean</code></td>
<td align="center">删除构建目录，清理生成文件</td>
</tr>
</tbody></table>
<h3 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">your_project/</span><br><span class="line">├── Makefile</span><br><span class="line">├── constr/</span><br><span class="line">│   └── top.nxdc              <span class="comment"># NVBoard 引脚约束文件</span></span><br><span class="line">├── vsrc/</span><br><span class="line">│   └── top.v                 <span class="comment"># 顶层模块和 Verilog 源码</span></span><br><span class="line">├── csrc/</span><br><span class="line">│   └── main.cpp              <span class="comment"># C++ 主程序（调用 NVBoard 接口）</span></span><br></pre></td></tr></table></figure>

<h2 id="nxdc文件"><a href="#nxdc文件" class="headerlink" title=".nxdc文件"></a>.nxdc文件</h2><p><code>.nxdc</code> 是 <strong>NVBoard</strong> 用来描述 <strong>引脚绑定信息</strong> 的约束文件（<strong>NVBoard Pin Constraint File</strong>）。它类似 FPGA 工程中的 XDC 文件，但用于告诉 <code>auto_pin_bind.py</code> 脚本如何将 Verilog 模块的端口映射到 NVBoard 的硬件模拟设备上（如开关、按键、LED、数码管等）。</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 顶层模块名</span><br><span class="line">top=顶层模块名</span><br><span class="line"></span><br><span class="line"># 单信号绑定：</span><br><span class="line"># NVBoard引脚名  Verilog端口信号名</span><br><span class="line"># 例如，绑定PS2时钟信号</span><br><span class="line">ps2_clk   ps2_clk</span><br><span class="line"></span><br><span class="line"># 多位总线绑定（用括号包裹，顺序对应高位到低位）</span><br><span class="line"># NVBoard引脚名列表（从最高位到最低位）  Verilog总线端口名</span><br><span class="line"># 例如，8位拨码开关绑定</span><br><span class="line">sw  (SW7, SW6, SW5, SW4, SW3, SW2, SW1, SW0)</span><br></pre></td></tr></table></figure>

<h3 id="示例解释"><a href="#示例解释" class="headerlink" title="示例解释"></a>示例解释</h3><p>Verilog 顶层模块定义：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 顶层模块 top，定义了FPGA与外设交互的所有接口</span></span><br><span class="line"><span class="keyword">module</span> top(</span><br><span class="line">    <span class="keyword">input</span> clk,             <span class="comment">// 时钟信号</span></span><br><span class="line">    <span class="keyword">input</span> rst,             <span class="comment">// 复位信号，高电平有效</span></span><br><span class="line">    <span class="keyword">input</span> [<span class="number">4</span>:<span class="number">0</span>] btn,       <span class="comment">// 5个按钮输入（左、上、中、下、右）</span></span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] sw,        <span class="comment">// 8个拨码开关输入</span></span><br><span class="line">    <span class="keyword">input</span> ps2_clk,         <span class="comment">// PS/2 键盘时钟线</span></span><br><span class="line">    <span class="keyword">input</span> ps2_data,        <span class="comment">// PS/2 键盘数据线</span></span><br><span class="line">    <span class="keyword">input</span> uart_rx,         <span class="comment">// UART 串口接收数据</span></span><br><span class="line">    <span class="keyword">output</span> uart_tx,        <span class="comment">// UART 串口发送数据</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">15</span>:<span class="number">0</span>] ledr,    <span class="comment">// 16个LED灯输出，用于状态指示</span></span><br><span class="line">    <span class="keyword">output</span> VGA_CLK,        <span class="comment">// VGA时钟信号</span></span><br><span class="line">    <span class="keyword">output</span> VGA_HSYNC,      <span class="comment">// VGA水平同步信号</span></span><br><span class="line">    <span class="keyword">output</span> VGA_VSYNC,      <span class="comment">// VGA垂直同步信号</span></span><br><span class="line">    <span class="keyword">output</span> VGA_BLANK_N,    <span class="comment">// VGA黑屏信号，低电平有效</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] VGA_R,    <span class="comment">// VGA红色信号8位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] VGA_G,    <span class="comment">// VGA绿色信号8位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] VGA_B,    <span class="comment">// VGA蓝色信号8位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg0,     <span class="comment">// 8位七段数码管第0位（含小数点）</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg1,     <span class="comment">// 8位七段数码管第1位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg2,     <span class="comment">// 8位七段数码管第2位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg3,     <span class="comment">// 8位七段数码管第3位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg4,     <span class="comment">// 8位七段数码管第4位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg5,     <span class="comment">// 8位七段数码管第5位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg6,     <span class="comment">// 8位七段数码管第6位</span></span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] seg7      <span class="comment">// 8位七段数码管第7位</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>top.nxdc文件如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"># 设置顶层模块名称</span><br><span class="line">top=top</span><br><span class="line"></span><br><span class="line"># VGA 信号（通常用于显示器）</span><br><span class="line"># VGA_CLK 默认连接 clk（由软件自动处理）</span><br><span class="line">VGA_VSYNC VGA_VSYNC	# 垂直同步信号</span><br><span class="line">VGA_HSYNC VGA_HSYNC	# 水平同步信号</span><br><span class="line">VGA_BLANK_N VGA_BLANK_N	# 空白信号（低电平表示空白）</span><br><span class="line">VGA_R (VGA_R7, VGA_R6, VGA_R5, VGA_R4, VGA_R3, VGA_R2, VGA_R1, VGA_R0)	# 红色通道 8-bit</span><br><span class="line">VGA_G (VGA_G7, VGA_G6, VGA_G5, VGA_G4, VGA_G3, VGA_G2, VGA_G1, VGA_G0)	# 绿色通道 8-bit</span><br><span class="line">VGA_B (VGA_B7, VGA_B6, VGA_B5, VGA_B4, VGA_B3, VGA_B2, VGA_B1, VGA_B0)	# 蓝色通道 8-bit</span><br><span class="line"></span><br><span class="line"># LED 灯（ledr：16个 LED，从 LD15 到 LD0）</span><br><span class="line">ledr (LD15, LD14, LD13, LD12, LD11, LD10, LD9, LD8, LD7, LD6, LD5, LD4, LD3, LD2, LD1, LD0)</span><br><span class="line"></span><br><span class="line"># 开关（sw：8个，SW7 到 SW0）</span><br><span class="line">sw (SW7, SW6, SW5, SW4, SW3, SW2, SW1, SW0)</span><br><span class="line"></span><br><span class="line"># 按键（btn：5个方向键）</span><br><span class="line">btn (BTNL, BTNU, BTNC, BTND, BTNR)</span><br><span class="line"></span><br><span class="line"># 数码管显示（8 位七段数码管，每个含小数点，共 8 个）</span><br><span class="line">seg0 (SEG0A, SEG0B, SEG0C, SEG0D, SEG0E, SEG0F, SEG0G, DEC0P)</span><br><span class="line">seg1 (SEG1A, SEG1B, SEG1C, SEG1D, SEG1E, SEG1F, SEG1G, DEC1P)</span><br><span class="line">seg2 (SEG2A, SEG2B, SEG2C, SEG2D, SEG2E, SEG2F, SEG2G, DEC2P)</span><br><span class="line">seg3 (SEG3A, SEG3B, SEG3C, SEG3D, SEG3E, SEG3F, SEG3G, DEC3P)</span><br><span class="line">seg4 (SEG4A, SEG4B, SEG4C, SEG4D, SEG4E, SEG4F, SEG4G, DEC4P)</span><br><span class="line">seg5 (SEG5A, SEG5B, SEG5C, SEG5D, SEG5E, SEG5F, SEG5G, DEC5P)</span><br><span class="line">seg6 (SEG6A, SEG6B, SEG6C, SEG6D, SEG6E, SEG6F, SEG6G, DEC6P)</span><br><span class="line">seg7 (SEG7A, SEG7B, SEG7C, SEG7D, SEG7E, SEG7F, SEG7G, DEC7P)</span><br><span class="line"></span><br><span class="line"># PS/2 接口（用于键盘等）</span><br><span class="line">ps2_clk PS2_CLK</span><br><span class="line">ps2_data PS2_DAT</span><br><span class="line"></span><br><span class="line"># UART 串口通信（用于与主机通信）</span><br><span class="line">uart_tx UART_TX</span><br><span class="line">uart_rx UART_RX</span><br></pre></td></tr></table></figure>

</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Verilator/">Verilator</a><a class="post-meta__tags" href="/tags/NVBoard/">NVBoard</a><a class="post-meta__tags" href="/tags/ysyx/">ysyx</a></div><div class="post-share"><div class="social-share" data-image="http://q.qlogo.cn/headimg_dl?dst_uin=2577539290&amp;spec=640&amp;img_type=jpg" data-sites="wechat,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/08/01/408%E5%A4%A7%E7%BA%B2/" title="408大纲"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">408大纲</div></div><div class="info-2"><div class="info-item-1">数据结构思维导图 原文 绪论  数据结构的基本概念  算法的基本概念    线性表  线性表的基本概念  线性表的实现  顺序存储  链式存储    线性表的应用    栈、队列和数组  栈和队列的基本概念  栈和队列的顺序存储结构  栈和队列的链式存储结构  多维数组的存储  特殊矩阵的压缩存储  栈、队列和数组的应用    树与二叉树  树的基本概念  二叉树  二叉树的定义及其主要特征  二叉树的顺序存储结构和链式存储结构  二叉树的遍历  线索二叉树的基本概念和构造    树、森林  树的存储结构  森林与二叉树的转换  树和森林的遍历    树与二叉树的应用  哈夫曼（Huffman）树和哈夫曼编码  并查集及其应用  堆及其应用      图  图的基本概念  图的存储及基本操作  邻接矩阵  邻接表  邻接多重表、十字链表    图的遍历  深度优先搜索  广度优先搜索    图的基本应用  最小（代价）生成树  最短路径  拓扑排序  关键路径      查找  查找的基本概念  顺序查找法  分块查找法  折半查找法  树型查找  二叉搜索树  平衡二叉树  红...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/08/09/ysyx%E5%AD%A6%E4%B9%A0%E9%98%B6%E6%AE%B5/" title="ysyx学习阶段"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-09</div><div class="info-item-2">ysyx学习阶段</div></div><div class="info-2"><div class="info-item-1">ysyx学习阶段 C &#x3D; C语言(程序&#x2F;模拟器&#x2F;系统软件)   R &#x3D; RISC-V指令集   P &#x3D; 处理器设计  T &#x3D; 工具                  阶段       序号       任务       时间       讲义       课件       视频       C       R       P       T                              F阶段       1       如何科学地提问       2       📚       📰       🎬                                             2       Logisim安装和使用       2       📚        -         -                             ✓                 3       数字逻辑电路基础       20       📚       📰       🎬      ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="http://q.qlogo.cn/headimg_dl?dst_uin=2577539290&amp;spec=640&amp;img_type=jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">卡比之星</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/liuying-0/"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#NVBoard"><span class="toc-number">1.</span> <span class="toc-text">NVBoard</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">1.2.</span> <span class="toc-text">项目文件说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B"><span class="toc-number">1.3.</span> <span class="toc-text">安装教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.4.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A5%E5%85%A5Verilator%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.</span> <span class="toc-text">接入Verilator步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#API%E8%AF%B4%E6%98%8E"><span class="toc-number">2.1.</span> <span class="toc-text">API说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%84%9A%E7%BB%91%E5%AE%9A"><span class="toc-number">2.2.</span> <span class="toc-text">引脚绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8API"><span class="toc-number">2.3.</span> <span class="toc-text">调用API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E9%93%BE%E6%8E%A5"><span class="toc-number">2.4.</span> <span class="toc-text">编译链接</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Makefile-%E6%96%87%E4%BB%B6%E7%9A%84%E8%A7%A3%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">Makefile 文件的解析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">3.1.</span> <span class="toc-text">执行流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NVBoard-Verilator-%E4%BD%BF%E7%94%A8%E7%9A%84%E9%80%9A%E7%94%A8-Makefile-%E6%A8%A1%E6%9D%BF"><span class="toc-number">3.2.</span> <span class="toc-text">NVBoard + Verilator 使用的通用 Makefile 模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">3.2.1.</span> <span class="toc-text">使用说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.2.</span> <span class="toc-text">项目结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nxdc%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text">.nxdc文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">3.3.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E8%A7%A3%E9%87%8A"><span class="toc-number">3.3.2.</span> <span class="toc-text">示例解释</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/31/ysyx-F3/" title="ysyx F3">ysyx F3</a><time datetime="2025-08-31T05:59:00.095Z" title="发表于 2025-08-31 13:59:00">2025-08-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/14/%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE/" title="应用层协议">应用层协议</a><time datetime="2025-08-14T13:15:44.000Z" title="发表于 2025-08-14 21:15:44">2025-08-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/14/%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE/" title="传输层协议">传输层协议</a><time datetime="2025-08-14T13:15:34.000Z" title="发表于 2025-08-14 21:15:34">2025-08-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/14/%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8D%8F%E8%AE%AE/" title="网络层协议">网络层协议</a><time datetime="2025-08-14T13:15:27.000Z" title="发表于 2025-08-14 21:15:27">2025-08-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/14/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%8D%8F%E8%AE%AE/" title="数据链路层协议">数据链路层协议</a><time datetime="2025-08-14T13:15:20.000Z" title="发表于 2025-08-14 21:15:20">2025-08-14</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By 卡比之星</span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>